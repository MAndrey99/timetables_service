# Описание api


## передаваемые объекты

#### Deadline
Используется для передачи информации о дедлайне в обоих направлениях.

Пример при отправке на сервис:  
_{ "creatorId": 7, "groupId": -1, "dateTime": "04-12-2020 23:18:30", "title": "example", "description": "" }_

Пример при получении клиентом:  
_{"creatorId":7,"groupId":-1,"dateTime":"04-12-2020 23:18:30","title":"example","description":"","id":53,"creationDateTime":"04-12-2020 23:17:16"}_

Поля:

обозначение | обязательно | тип | пояснение
---|---|---|---
**creatorId** | да | int | id создавшего дедлайн пользователя
**groupId** | да | int | id группы, в которой создан дедлайн
**dateTime** | да | String | время наступления дедлайна в формате dd-MM-yyyy HH:mm:ss
**title** | да | String | заголовок дедлайна
**description** | да | String | пояснение дедлайна
**id** | только для отправки клиенту | int | уникальный идентификатор дедлайна
**creationDateTime** | только для отправки клиенту | String | время создания дедлайна в формате dd-MM-yyyy HH:mm:ss


#### DeadlinesBucket
Используется для передачи клиенту информации о неком количестве дедлайнов.

Пример:  
_{"deadlines":\[{"creatorId":7,"groupId":-1,"dateTime":"04-12-2020 23:18:30","title":"t","description":"","id":53,"creationDateTime":"04-12-2020 23:17:16"},{"creatorId":7,"groupId":-1,"dateTime":"04-12-2020 23:18:30","title":"t","description":"","id":54,"creationDateTime":"04-12-2020 23:17:22"}]}_

Поля:

обозначение | обязательно | тип | пояснение
---|---|---|---
`deadlines` | да | Array | здесь все передаваемые [дедлайны](#deadline)


## методы

#### post /deadlines
Создаёт новый дедлайн по переданному в теле запроса [**Deadline**](#deadline).

#### get /deadlines
Возвращает [**DeadlinesBucket**](#deadlinesbucket).  

Аргументы:

обозначение | обязательно | тип | пояснение
---|---|---|---
`relevant` | нет(по-умолчанию true) | bool | указывает, требуется ли из выдачи убирать неактуальные(прошедшие) дедлайны.
`groupId` | нет | int | фильтрации выдачи по соответствующему полю Deadline
`creatorId` | нет | int | фильтрации выдачи по соответствующему полю Deadline


#### delete /deadlines
Удаляет дедлайн.

Аргументы:

обозначение | обязательно | тип | пояснение
---|---|---|---
`id` | да | int | указывает на конкретный дедлайн для удаления


#### post /subscribers
Добавляет подписчика, которому будут присылаться все наступающие дедлайны в [**DeadlinesBucket**](#deadlinesbucket).  
В теле запроса необходимо передать **url**, на который методом post будет отправляться.  
Пример **url**:
http://localhost:8080/


#### delete /subscribers
Удаляет подписчика.

Аргументы:

обозначение | обязательно | тип | пояснение
---|---|---|---
`url` | да | String | url подписчика, которого требуется удалить
'groupId' | нет | int | groupId дедлайна для предотвращения удаления дедлайнов из других групп
